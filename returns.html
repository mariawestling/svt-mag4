<!DOCTYPE>
<html>
<head>

  <!-- Bootstrap CSS-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <!-- jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css">
  <!-- Stylesheet -->
  <link rel="stylesheet" href="returns-style.css">
  <!-- Script -->  
  <script src="returns-script.js"></script>
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase.js"></script>

  <title>Returns</title>
</head>
	<body>
	    <div class="header">
	      <button class="fas fa-home iconbuttons" onClick="handleClick('index.html')"></button>
	      <div class="pageTitle">
	        Uthyrning
	      </div>
	      <div class="header-icons">
	        <button class="far fa-question-circle iconbuttons" onClick="instructionButton()"></button>
	        <button class="fas fa-bars iconbuttons"></button>
	      </div>
	    </div>

    <div class="renting-options">
        <button class="btn btn-primary active" id="oneFolje" onClick="oneRenting()">Ny följesedel</button>
        <button class="btn btn-primary" id="allFolje" onClick="">Följesedlar</button>
    </div>

		<div class="row justify-content-md-center">
			<div class="col-md-10">
				<div class="row">
					<div class="input-group input-group-lg col-md-5 mb-3 mt-3">
					  <input type="text" class="form-control" placeholder="Sök..." aria-label="Recipient's username" aria-describedby="basic-addon2">
					  <div class="input-group-append">
					    <button class="btn btn-outline-secondary" type="button"><i class="fas fa-search"></i></button>
					  </div>
					</div>
				</div>

				<div class="row header-wrapper">
					<div class="col-md-4">Produktion</div>
					<div class="col-md-4">Företag</div>
					<div class="col-md-2">Antal objekt</div>
					<div class="col-md-2">Datum</div>
				</div>

			<div id="list">
			  <!--Generated list items will go here-->
			</div>

				<a data-toggle="collapse" href="#collapse1" role="button" aria-expanded="false" aria-controls="collapse1">
					<div class="row order-wrapper">
						<div class="col-md-4">En Jättebra Film</br>1234</div>
						<div class="col-md-4">Företag 1 AB</br>123456-7890</div>
						<div class="col-md-2">7</div>
						<div class="col-md-2 utdatum">2018-05-30</div>
					</div>
				</a>

				<div class="collapse" id="collapse1">
				  <div class="details-wrapper">
				  	<div class="row">
					  	<div class="col-md-8">
							<span><b>Kontaktperson:</b></span></br>
							Förnamn Efternamn &emsp;&emsp; 070-123 45 67 &emsp;&emsp; email@adress.se
						</div>
						<div class="col-md-2">
		              		<button onClick="" class="retur-btn">ÄNDRA</button>
		            	</div>
						<div class="col-md-2">
							<button onClick="handleReturn()" class="retur-btn">RETUR</button>
						</div>
					</div>
					<div class="row header-wrapper mt-3">
						<div class="col-md-1">
							ID
						</div>
						<div class="col-md-2">
							Kategori
						</div>	
						<div class="col-md-3">
							Underkategori
						</div>	
						<div class="col-md-2">
							Prisgrupp
						</div>	
						<div class="col-md-1">
							Återlämnad
						</div>					
					</div>
					<div class="row item-wrapper">
						<div class="col-md-1">
							ID
						</div>
						<div class="col-md-2">
							Kategori
						</div>	
						<div class="col-md-3">
							Underkategori
						</div>	
						<div class="col-md-5">
							Prisgrupp
						</div>	
						<div class="col-md-1">
							<i class="far fa-circle status-icon"></i>
						</div>					
					</div>	

					<div class="row item-wrapper">
						<div class="col-md-1">
							ID
						</div>
						<div class="col-md-2">
							Kategori
						</div>	
						<div class="col-md-3">
							Underkategori
						</div>	
						<div class="col-md-5">
							Prisgrupp
						</div>	
						<div class="col-md-1">
							<i class="far fa-circle status-icon"></i>
						</div>					
					</div>	


					<div class="row item-wrapper">
						<div class="col-md-1">
							ID
						</div>
						<div class="col-md-2">
							Kategori
						</div>	
						<div class="col-md-3">
							Underkategori
						</div>	
						<div class="col-md-5">
							Prisgrupp
						</div>	
						<div class="col-md-1">
							<i class="far fa-circle status-icon"></i>
						</div>					
					</div>	

					<div class="row item-wrapper">
						<div class="col-md-1">
							ID
						</div>
						<div class="col-md-2">
							Kategori
						</div>	
						<div class="col-md-3">
							Underkategori
						</div>	
						<div class="col-md-5">
							Prisgrupp
						</div>	
						<div class="col-md-1">
							<i class="far fa-circle status-icon"></i>
						</div>					
					</div>

					<div class="row item-wrapper">
						<div class="col-md-1">
							ID
						</div>
						<div class="col-md-2">
							Kategori
						</div>	
						<div class="col-md-3">
							Underkategori
						</div>	
						<div class="col-md-5">
							Prisgrupp
						</div>	
						<div class="col-md-1">
							<i class="far fa-circle status-icon"></i>
						</div>					
					</div>	


					<div class="row item-wrapper">
						<div class="col-md-1">
							ID
						</div>
						<div class="col-md-2">
							Kategori
						</div>	
						<div class="col-md-3">
							Underkategori
						</div>	
						<div class="col-md-2">
							Prisgrupp
						</div>	
						<div class="col-md-3 datum">
							2018-06-01
						</div>							
						<div class="col-md-1">
							<i class="far fa-check-circle status-icon"></i>
						</div>					
					</div>	

					<div class="row item-wrapper">
						<div class="col-md-1">
							ID
						</div>
						<div class="col-md-2">
							Kategori
						</div>	
						<div class="col-md-3">
							Underkategori
						</div>	
						<div class="col-md-2">
							Prisgrupp
						</div>	
						<div class="col-md-3 datum">
							2018-06-01
						</div>	
						<div class="col-md-1">
							<i class="far fa-check-circle status-icon"></i>
						</div>					
					</div>																									
				  </div>
				</div>


				<a data-toggle="collapse" href="#collapse2" role="button" aria-expanded="false" aria-controls="collapse2">
					<div class="row order-wrapper">
						<div class="col-md-4">Reklamfilm</br>2345</div>
						<div class="col-md-4">Företag 2 AB</br>123456-7890</div>
						<div class="col-md-2">15</div>
						<div class="col-md-2 utdatum">2018-05-18</div>
					</div>
				</a>

				<div class="collapse" id="collapse2">
				  <div class="">
				  </div>
				</div>


				<a data-toggle="collapse" href="#collapse3" role="button" aria-expanded="false" aria-controls="collapse3">
					<div class="row order-wrapper">
						<div class="col-md-4">Ett Jätteroligt Event</br>3456</div>
						<div class="col-md-4">Företag 3 AB</br>123456-7890</div>
						<div class="col-md-2">45</div>
						<div class="col-md-2 utdatum">2018-05-02</div>
					</div>
				</a>

				<div class="collapse" id="collapse3">
				  <div class="">
				  </div>
				</div>



			<script id="template-list-item" type="text/template">
				<a data-toggle="collapse" href="#collapse3" role="button" aria-expanded="false" aria-controls="collapse3">
					<div class="row order-wrapper">
						<div class="col-md-4">{{name}}</br>{{production}}</div>
						<div class="col-md-4">{{company}}</br>{{orgNr}}</div>
						<div class="col-md-2">{{amount}}</div>
						<div class="col-md-2 utdatum">{{date}}</div>
					</div>
				</a>
			</script>


			</div>
		</div>




	</body>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDoWMxKEeSbiVMr-5e45l_vEr7DZ2wuq6o",
    authDomain: "svt-mag4.firebaseapp.com",
    databaseURL: "https://svt-mag4.firebaseio.com",
    projectId: "svt-mag4",
    storageBucket: "svt-mag4.appspot.com",
    messagingSenderId: "591272820135"
  };
  firebase.initializeApp(config);


	firebase.database().ref('orders/').once('value').then(function(snapshot) {
	    // Object we’re working with
		var dataObject = snapshot.val();

		// Cache of the template
		var template = document.getElementById("template-list-item");
		// Get the contents of the template
		var templateHtml = template.innerHTML;
		// Final HTML variable as empty string
		var listHtml = "";

		// Loop through dataObject, replace placeholder tags
		// with actual data, and generate final HTML
		for (var key in dataObject) {
		  listHtml += templateHtml.replace(/{{company}}/g, dataObject[key].company)
		                          .replace(/{{production}}/g, dataObject[key].production)
		                          .replace(/{{contact}}/g, dataObject[key].contact)
		                          .replace(/{{date}}/g, dataObject[key].returnDate);
		}

		// Replace the HTML of #list with final HTML
		document.getElementById("list").innerHTML = listHtml;

	});	

</script>

</html>
